{"version":3,"sources":["../static/js/Login.58ccab16.chunk.js","presentationals/LogIn.js","containers/connectedToSocials.js","containers/withLoginToSocials.js","containers/handleLoginResponse.js","containers/collectUserDataAndLogin.js"],"names":["webpackJsonp","319","module","__webpack_exports__","__webpack_require__","LogIn","props","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","className","onClick","login","data-scope","alt","src","__WEBPACK_IMPORTED_MODULE_3_react_router_dom__","to","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","n","__WEBPACK_IMPORTED_MODULE_1__containers_connectedToSocials__","__WEBPACK_IMPORTED_MODULE_2__containers_withLoginToSocials__","LogInConnectedToSocials","355","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","Deferred","this","promise","Promise","resolve","reject","connectedToSocials","WrappedComponent","_React$Component","_class","_this","getPrototypeOf","loadFBSDK","bind","loadVKSDK","_createClass","key","d","s","id","js","fjs","getElementsByTagName","getElementById","parentNode","insertBefore","document","console","log","window","fbLoaded","fbAsyncInit","FB","init","appId","__WEBPACK_IMPORTED_MODULE_1__config__","autoLogAppEvents","xfbml","version","setTimeout","el","type","async","appendChild","vkLoaded","vkAsyncInit","VK","apiId","Component","defineProperties","target","i","length","descriptor","protoProps","staticProps","356","withLoginToSocials","social","_this2","response","__WEBPACK_IMPORTED_MODULE_1__containers_handleLoginResponse__","authResponse","accessToken","Auth","session","_this4","then","getLoginStatus","_this3","status","onLoadingComplete","isShowLoading","assign","357","_asyncToGenerator","fn","gen","apply","arguments","step","arg","info","error","done","err","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1__containers_collectUserDataAndLogin__","handleLoginResponse","_ref","mark","_callee","app","wrap","_context","prev","next","api","fields","res","handleLoggedInState","email","name","ID","pic","loginType","stop","_x","_x2","_x3","_x4","358","__WEBPACK_IMPORTED_MODULE_2__containers_fetchWithTimeOut__","collectUserDataAndLogin","userData","foldersWithInfo","first_name","last_name","toString","uid","picture","data","url","photo_200","lastUID","UIDs","JSON","stringify","method","headers","Accept","Content-Type","body","json","isLogin","success","onLoginError","handleFoldersInfo","handleCurrentUserData","catch"],"mappings":"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","file":"static/js/Login.58ccab16.chunk.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 319:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__containers_connectedToSocials__ = __webpack_require__(355);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__containers_withLoginToSocials__ = __webpack_require__(356);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_router_dom__ = __webpack_require__(61);\nfunction LogIn(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'login'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'gradient'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'login-inner'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'login-content'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{className:'pb-5'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'welcometext'},'Welcome to'),' ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'logo'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'logo-red'},'Q'),'uick',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'logo-blue'},'M'),'ail'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{className:'btn-fb',onClick:function onClick(){return props.login('FB');},'data-scope':'public_profile'},'Login with',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{alt:'facebook logo',src:'./img/facebook-logo.png'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('hr',{className:'log-in-hr'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_router_dom__[\"b\" /* Link */],{to:'/inbox',className:'LinkToDefaults'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{className:'btn-vk',onClick:function onClick(){return props.login('VK');}},'Login with',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{alt:'vk-logo',src:'./img/vk-logo.svg'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'about-block position-relative'},'About project',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'about-popup'},'\"QuickMail\" is one more mail-service for you!',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('ul',{className:''},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('li',null,'It\\'s free'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('li',null,'No registration, simply login with your socials'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('li',null,'Clean & Simple Descktop and Mobile interface')))))));}var LogInConnectedToSocials=Object(__WEBPACK_IMPORTED_MODULE_2__containers_withLoginToSocials__[\"a\" /* default */])(Object(__WEBPACK_IMPORTED_MODULE_1__containers_connectedToSocials__[\"a\" /* default */])(LogIn));/* harmony default export */ __webpack_exports__[\"default\"] = (LogInConnectedToSocials);\n\n/***/ }),\n\n/***/ 355:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = connectedToSocials;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config__ = __webpack_require__(8);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function Deferred(){var self=this;this.promise=new Promise(function(resolve,reject){self.reject=reject;self.resolve=resolve;});}function connectedToSocials(WrappedComponent){return function(_React$Component){_inherits(_class,_React$Component);function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));_this.loadFBSDK=_this.loadFBSDK.bind(_this);_this.loadVKSDK=_this.loadVKSDK.bind(_this);return _this;}_createClass(_class,[{key:'loadFBSDK',value:function loadFBSDK(){(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src=\"https://connect.facebook.net/en_US/sdk.js\";fjs.parentNode.insertBefore(js,fjs);})(document,'script','facebook-jssdk');console.log(\"Loading FB API\");window.fbLoaded=new Deferred();window.fbAsyncInit=function(){window.FB.init({appId:__WEBPACK_IMPORTED_MODULE_1__config__[\"a\" /* FbAppID */],autoLogAppEvents:true,xfbml:true,version:'v3.1'});window.fbLoaded.resolve();};}},{key:'loadVKSDK',value:function loadVKSDK(){setTimeout(function(){var el=document.createElement(\"script\");el.type=\"text/javascript\";el.src=\"//vk.com/js/api/openapi.js\";el.async=true;document.getElementById(\"vk_api_transport\").appendChild(el);},0);console.log(\"Loading VK API\");window.vkLoaded=new Deferred();window.vkAsyncInit=function(){window.VK.init({apiId:__WEBPACK_IMPORTED_MODULE_1__config__[\"d\" /* vkAppID */]});window.vkLoaded.resolve();};}},{key:'componentDidMount',value:function componentDidMount(){// uncoment below line to allow Facebook login\nthis.loadFBSDK();this.loadVKSDK();}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(WrappedComponent,this.props);}}]);return _class;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);}\n\n/***/ }),\n\n/***/ 356:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = withLoginToSocials;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__containers_handleLoginResponse__ = __webpack_require__(357);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function withLoginToSocials(WrappedComponent){return function(_React$Component){_inherits(_class,_React$Component);function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));_this.login=_this.login.bind(_this);return _this;}_createClass(_class,[{key:'login',value:function login(social){var _this2=this;console.log('Start logging in '+social+' ....');if(social==='FB'){window.FB.login(function(response){return Object(__WEBPACK_IMPORTED_MODULE_1__containers_handleLoginResponse__[\"a\" /* default */])(response,'FB',response.authResponse.accessToken,_this2);});}else{window.VK.Auth.login(function(response){return Object(__WEBPACK_IMPORTED_MODULE_1__containers_handleLoginResponse__[\"a\" /* default */])(response,'VK',response.session,_this2);});}}},{key:'componentDidMount',value:function componentDidMount(){var _this4=this;var LoadingCoplete=true;if(LoadingCoplete){window.vkLoaded.promise.then(function(){window.VK.Auth.getLoginStatus(function(response){var _this3=this;if(response.status==='connected'){console.log('connected to VK');this.login('VK');}else if(response.status==='not_authorized'){console.log('not_authorized in VK and my application');this.props.onLoadingComplete(true);this.props.isShowLoading(false);}else{console.log('User not logged in to VK');this.props.onLoadingComplete(true);this.props.isShowLoading(false);window.fbLoaded.promise.then(function(){window.FB.getLoginStatus(function(response){if(response.status==='connected'){console.log('connected to FB');this.login('FB');}else if(response.status==='authorization_expired'){console.log('FB authorization_expired');this.props.onLoadingComplete(true);}else if(response.status==='not_authorized'){console.log('not_authorized in FB and my application');this.props.onLoadingComplete(true);this.props.isShowLoading(false);}else{console.log('User not logged in to Facebook');this.props.onLoadingComplete(true);this.props.isShowLoading(false);}}.bind(_this3));});}}.bind(_this4));});}else{}}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(WrappedComponent,Object.assign({},this.props,{login:this.login}));}}]);return _class;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);}\n\n/***/ }),\n\n/***/ 357:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__containers_collectUserDataAndLogin__ = __webpack_require__(358);\nvar handleLoginResponse=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(response,social,accessToken,app){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(response.status==='connected'){if(social==='VK'){//requesting user info from social api\nwindow.VK.api(\"users.get\",{fields:'photo_200,first_name,last_name,uid',version:5.8},function(res){return Object(__WEBPACK_IMPORTED_MODULE_1__containers_collectUserDataAndLogin__[\"a\" /* default */])(res,social,accessToken,app);});}else{//requesting user info from social api\nwindow.FB.api('/me','GET',{fields:'name,id,picture.width(200).height(200)'},function(res){return Object(__WEBPACK_IMPORTED_MODULE_1__containers_collectUserDataAndLogin__[\"a\" /* default */])(res,social,accessToken,app);});}}else{app.props.handleLoggedInState(false,{email:'',name:'',ID:'',pic:'',loginType:''});}case 1:case'end':return _context.stop();}}},_callee,this);}));return function handleLoginResponse(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}/* harmony default export */ __webpack_exports__[\"a\"] = (handleLoginResponse);\n\n/***/ }),\n\n/***/ 358:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__config__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__containers_fetchWithTimeOut__ = __webpack_require__(65);\nvar collectUserDataAndLogin=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(response,loginType,accessToken,app){var userData,foldersWithInfo;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(response&&!response.error){app.props.isShowLoading(true);console.log('Recieved user-data from '+loginType);userData={name:loginType==='FB'?response.name:response.response[0].first_name+' '+response.response[0].last_name,ID:loginType==='FB'?response.id.toString():response.response[0].uid.toString(),pic:loginType==='FB'?response.picture.data.url:response.response[0].photo_200,loginType:loginType,accessToken:accessToken,lastUID:0,UIDs:[]};console.log(JSON.stringify(userData));Object(__WEBPACK_IMPORTED_MODULE_2__containers_fetchWithTimeOut__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_1__config__[\"b\" /* default */]+'/auth',{method:'POST',headers:{'Accept':'application/json, text/plain, */*','Content-Type':'application/json'},body:JSON.stringify(userData)},10000).then(function(res){return res.json();}).then(console.log('Recieved user-data from QM-server')).then(function(res){userData.email=res.email;userData.accessToken=res.accessToken;foldersWithInfo=res.foldersWithInfo;return res;}).then(function(res){var isLogin=true;if(!res.success){userData={email:'unknown',name:'unknown',ID:'',loginType:'',accessToken:''};isLogin=false;app.props.onLoginError('Oops, error during user registration :-(');}app.props.handleFoldersInfo(foldersWithInfo);app.props.handleCurrentUserData(userData);app.props.handleLoggedInState(isLogin);app.props.onLoadingComplete(true);}).catch(function(err){console.log(err);app.props.isShowLoading(false);app.props.onLoginError('Oops, cant connect to server, please try later :-(');app.props.handleLoggedInState(false);});}else{app.props.isShowLoading(false);app.props.onLoginError('Oops, cant connect '+loginType+' Server :-(');console.log(response.error);}case 1:case'end':return _context.stop();}}},_callee,this);}));return function collectUserDataAndLogin(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}/* harmony default export */ __webpack_exports__[\"a\"] = (collectUserDataAndLogin);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/Login.58ccab16.chunk.js","import React from 'react'\nimport connectedToSocials from '../containers/connectedToSocials'\nimport withLoginToSocials from '../containers/withLoginToSocials'\nimport {Link} from 'react-router-dom'\n\nfunction LogIn (props) {\n    return (\n      <div className='login'>\n        <div className='gradient' />\n        <div className='login-inner'>\n          <div className='login-content'>\n            <p className='pb-5'>\n              <span>\n                <span className='welcometext'>Welcome to</span> <br />\n                <span className='logo'>\n                  <span className='logo-red'>Q</span>uick<span className='logo-blue'>M</span>ail\n                </span>\n              </span>\n\n            </p>\n            <button className='btn-fb' onClick={()=>props.login('FB')} data-scope=\"public_profile\">\n              Login with\n              <img alt='facebook logo' src='./img/facebook-logo.png' />\n            </button>\n            <hr className='log-in-hr' />\n            <Link to='/inbox' className='LinkToDefaults'>\n              <button className='btn-vk' onClick={()=>props.login('VK')}>\n                  Login with\n                  <img alt='vk-logo' src='./img/vk-logo.svg' />\n              </button>\n            </Link>\n            <div className='about-block position-relative'>About project\n              <div className='about-popup'>\"QuickMail\" is one more mail-service for you!\n              <ul className=''>\n              <li>It's free</li>\n              <li>No registration, simply login with your socials</li>\n              <li>Clean & Simple Descktop and Mobile interface</li>\n\n            </ul>\n\n            </div>\n   \n            </div>\n          </div>\n        </div>\n\n      </div>\n    )\n}\n\nconst LogInConnectedToSocials = withLoginToSocials(connectedToSocials(LogIn))\nexport default LogInConnectedToSocials\n\n\n// WEBPACK FOOTER //\n// ./src/presentationals/LogIn.js","import React from 'react' \nimport {vkAppID, FbAppID} from '../config'\n\nfunction Deferred() {\n  var self = this\n  this.promise = new Promise(function(resolve, reject) {\n    self.reject = reject\n    self.resolve = resolve\n  })\n}\n\nexport default function connectedToSocials (WrappedComponent) {\n\treturn class extends React.Component {\n\t\tconstructor (props) {\n      super(props)\n      this.loadFBSDK = this.loadFBSDK.bind(this)\n      this.loadVKSDK = this.loadVKSDK.bind(this)\n    }\n\n    loadFBSDK () {\n      \n      \n      (function(d, s, id){\n           var js, fjs = d.getElementsByTagName(s)[0]\n           if (d.getElementById(id)) {return}\n           js = d.createElement(s); js.id = id\n           js.src = \"https://connect.facebook.net/en_US/sdk.js\"\n           fjs.parentNode.insertBefore(js, fjs)\n         }(document, 'script', 'facebook-jssdk'))\n\n      console.log(\"Loading FB API\")      \n      window.fbLoaded = (new Deferred())\n\n      window.fbAsyncInit = function() {\n          window.FB.init({\n            appId            : FbAppID,\n            autoLogAppEvents : true,\n            xfbml            : true,\n            version          : 'v3.1'\n          }) \n          window.fbLoaded.resolve()\n        }\n    }\n    \n    loadVKSDK () {\n      setTimeout(function() {\n        var el = document.createElement(\"script\");\n        el.type = \"text/javascript\";\n        el.src = \"//vk.com/js/api/openapi.js\";\n        el.async = true;\n        document.getElementById(\"vk_api_transport\").appendChild(el);\n      }, 0)\n\n      console.log(\"Loading VK API\")\n      window.vkLoaded = (new Deferred())\n\n      window.vkAsyncInit = function() {\n        window.VK.init({\n          apiId: vkAppID\n        })\n        window.vkLoaded.resolve()\n      }\n\n      \n    }\n\n    componentDidMount () {\n      // uncoment below line to allow Facebook login\n      this.loadFBSDK() \n      this.loadVKSDK()\n    }\n\n    render () {\n    \treturn <WrappedComponent {...this.props} />\n    }\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/containers/connectedToSocials.js","import React from 'react'\nimport handleLoginResponse from '../containers/handleLoginResponse'\n\nexport default function withLoginToSocials (WrappedComponent) {\n  return class extends React.Component {\n    constructor (props) {\n      super(props)\n      this.login = this.login.bind(this)\n    }\n\n    login(social) {\n      console.log(`Start logging in ${social} ....`)\n      if(social==='FB'){\n        window.FB.login((response) => handleLoginResponse(response, 'FB', response.authResponse.accessToken, this))\n      } else {\n        window.VK.Auth.login((response) => handleLoginResponse(response, 'VK', response.session, this))\n      }\n    }\n\n    componentDidMount () {\n      var LoadingCoplete = true\n      if(LoadingCoplete){\n        window.vkLoaded.promise.then(() => {\n          window.VK.Auth.getLoginStatus(function(response) {\n            if (response.status === 'connected') {\n              console.log('connected to VK')\n              this.login('VK')\n            } else if (response.status === 'not_authorized') {\n              console.log('not_authorized in VK and my application')\n              this.props.onLoadingComplete(true)\n              this.props.isShowLoading(false)\n            } else {\n              console.log('User not logged in to VK')\n              this.props.onLoadingComplete(true)\n              this.props.isShowLoading(false)\n              window.fbLoaded.promise.then(() => { \n                window.FB.getLoginStatus(function(response) {\n                  \n                  if (response.status === 'connected') {\n                    console.log('connected to FB')\n                    this.login('FB')\n                  } else if (response.status === 'authorization_expired') {\n                    console.log('FB authorization_expired')\n                    this.props.onLoadingComplete(true)\n                  }else if (response.status === 'not_authorized') {\n                    console.log('not_authorized in FB and my application')\n                    this.props.onLoadingComplete(true)\n                    this.props.isShowLoading(false)\n                  } else {\n                    console.log('User not logged in to Facebook')\n                    this.props.onLoadingComplete(true)\n                    this.props.isShowLoading(false)\n                  }\n                 \n                 }.bind(this)) \n              })\n\n            }\n           \n           }.bind(this))\n        })\n        \n      } else {}\n    }\n\n    render () {\n      return <WrappedComponent {...this.props} login={this.login}/>\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/withLoginToSocials.js","import collectUserDataAndLogin from '../containers/collectUserDataAndLogin'\n\nasync function handleLoginResponse(response,social, accessToken,app) {\n  if(response.status === 'connected'){\n    if(social==='VK'){\n    \t//requesting user info from social api\n      window.VK.api(\"users.get\", {fields:'photo_200,first_name,last_name,uid',version:5.8},\n      (res)=>collectUserDataAndLogin(res, social, accessToken, app) )\n    } else {\n    \t//requesting user info from social api\n      window.FB.api(`/me`,'GET', {fields: 'name,id,picture.width(200).height(200)'}, \n        (res)=>collectUserDataAndLogin(res, social, accessToken, app) )\n    } \n    \n  } else {\n    app.props.handleLoggedInState(false, {email:'', name:'', ID:'', pic:'', loginType:''} )\n  }\n}\n \nexport default handleLoginResponse \n\n\n// WEBPACK FOOTER //\n// ./src/containers/handleLoginResponse.js","import serverURL from '../config'\nimport fetchWithTimeOut from '../containers/fetchWithTimeOut'\n\nasync function collectUserDataAndLogin(response, loginType, accessToken, app){\n  if (response && !response.error) {\n    app.props.isShowLoading(true)\n\n    console.log(`Recieved user-data from ${loginType}`)\n    \n    var userData = {\n      name: loginType==='FB' ? response.name : response.response[0].first_name+' '+response.response[0].last_name,\n      ID: loginType==='FB' ? response.id.toString() : response.response[0].uid.toString(),\n      pic: loginType==='FB' ? response.picture.data.url : response.response[0].photo_200,\n      loginType: loginType,\n      accessToken: accessToken,\n      lastUID:0,\n      UIDs:[]\n      } \n    console.log(JSON.stringify(userData))\n\n    var foldersWithInfo\n    fetchWithTimeOut(`${serverURL}/auth`,{\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(userData),\n        }, 10000)\n    .then(res=>res.json())\n    .then(console.log('Recieved user-data from QM-server'))\n    .then(res=>{\n      userData.email = res.email\n      userData.accessToken = res.accessToken\n      foldersWithInfo = res.foldersWithInfo\n      return res\n    })\n    .then((res)=>{\n      let isLogin = true\n      if(!res.success){\n        userData = {email:'unknown', name:'unknown', ID:'', loginType:'', accessToken:''}\n        isLogin = false\n        app.props.onLoginError(`Oops, error during user registration :-(`)\n      }\n      \n      app.props.handleFoldersInfo(foldersWithInfo)\n      app.props.handleCurrentUserData(userData)\n      app.props.handleLoggedInState(isLogin)\n      app.props.onLoadingComplete(true)\n    })\n    .catch(err=>{\n      console.log(err)\n      app.props.isShowLoading(false)\n      app.props.onLoginError('Oops, cant connect to server, please try later :-(')\n      app.props.handleLoggedInState(false)\n    })\n     \n    } else {\n        app.props.isShowLoading(false)\n        app.props.onLoginError(`Oops, cant connect ${loginType} Server :-(`)\n        console.log(response.error)\n      }\n}\n\nexport default collectUserDataAndLogin\n\n\n// WEBPACK FOOTER //\n// ./src/containers/collectUserDataAndLogin.js"],"sourceRoot":""}